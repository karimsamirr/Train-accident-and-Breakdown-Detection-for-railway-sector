function [allData, scenario, sensor] = Complex_All()
%generateSensorData - Returns sensor detections
%    allData = generateSensorData returns sensor detections in a structure
%    with time for an internally defined scenario and sensor suite.
%
%    [allData, scenario, sensors] = generateSensorData optionally returns
%    the drivingScenario and detection generator objects.

% Generated by MATLAB(R) 9.13 (R2022b) and Automated Driving Toolbox 3.6 (R2022b).
% Generated on: 17-Mar-2024 02:14:57

% Create the drivingScenario object and ego car
[scenario, egoVehicle] = createDrivingScenario;

% Create all the sensors
sensor = createSensor(scenario);

allData = []; % Initialize allData
counter = 0; % Initialize counter
currentTime = clock;
videoFilename = sprintf('output_video_%04d%02d%02d_%02d%02d%02d.avi', ...
    currentTime(1), currentTime(2), currentTime(3), ...
    currentTime(4), currentTime(5), round(currentTime(6)));
outputVideo = VideoWriter(videoFilename);
outputVideo.FrameRate = 10; % Set the frame rate (you can adjust as needed)
open(outputVideo);

% Create a figure and axes for plotting the scenario
figure;
hAxes = axes;
speedFactor = 5; % Set the factor to speed up the stopwatch
elapsedTime = 0;
tic; % Start the timer
h = text(-60, -45, '00:00:00.00', 'FontSize', 15, 'HorizontalAlignment', 'center');
running = true;

while running
    % Advance the scenario one time step and exit the loop if the scenario is complete
    running = advance(scenario);
    elapsedTime = toc * speedFactor;
    hours = floor(elapsedTime / 3600);
    minutes = floor(mod(elapsedTime, 3600) / 60);
    seconds = mod(elapsedTime, 60);
    milliseconds = mod(elapsedTime, 1) * 100;
    timeStr = sprintf('%02d:%02d:%02.0f.%02.0f', hours, minutes, seconds, milliseconds);
    set(h, 'String', timeStr);
    % Generate the target poses of all actors relative to the ego vehicle
    poses = targetPoses(egoVehicle);
    time  = scenario.SimulationTime;

    % Generate detections for the sensor
    [objectDetections, isValidTime] = sensor(poses, time);
    numObjects = length(objectDetections);
    objectDetections = objectDetections(1:numObjects);

    % Print messages to console based on detections
    if isValidTime
        if ~isempty(objectDetections)
            disp('Obstacle detected!');
        else
            disp('No obstacle detected.');
            
        end
    end
    
    % Aggregate all detections into a structure for later use
    if isValidTime
        newData = struct( ...
            'Time',       scenario.SimulationTime, ...
            'ActorPoses', actorPoses(scenario), ...
            'ObjectDetections', {objectDetections}, ...
            'LaneDetections', {}, ...
            'PointClouds',   {}, ...
            'INSMeasurements',   {});
        if isempty(allData)
            allData = newData;
        else
            allData(end + 1) = newData;
        end
    end
    
    % Update the plot every 10 iterations
  if mod(counter, 10) == 0
        plot(scenario, 'Parent', hAxes);
        drawnow;
        
        % Capture frame and write to video
        frame = getframe(gcf); % Capture the current frame from the figure
        writeVideo(outputVideo, frame); % Write the frame to the video
    end
    
    counter = counter + 1; % Increment counter
end

% Close video writer
close(outputVideo);

% Restart the driving scenario to return the actors to their initial positions.
restart(scenario);

% Release the sensor object so it can be used again.
release(sensor);

end

%%%%%%%%%%%%%%%%%%%%
% Helper functions %
%%%%%%%%%%%%%%%%%%%%

function sensor = createSensor(scenario)
% createSensors Returns all sensor objects to generate detections

% Assign into each sensor the physical and radar profiles for all actors
profiles = actorProfiles(scenario);
sensor = ultrasonicDetectionGenerator('SensorIndex', 1, ...
    'MountingLocation', [3.7 0 0.2], ...
    'Profiles', profiles);
end

function [scenario, egoVehicle] = createDrivingScenario
% createDrivingScenario Returns the drivingScenario defined in the Designer

% Construct a drivingScenario object.
%mn klmt driving senarioÂ ll25err
option = randi([1, 15]);

% Display the generated random number
disp(['Random number generated: ', num2str(option)]);
switch option
    case 1
        scenario = drivingScenario;

% Add all road segments
roadCenters = [-10.3 -11.5 0;
               17.5 -11.7 0;
               44.5 1.9 0;
               88.9 -11.5 0;
               125.3 -1 0];
roadWidth = 5;
road(scenario, roadCenters, roadWidth, 'Name', 'Road');

% Add the ego vehicle
egoVehicle = vehicle(scenario, ...
    'ClassID', 2, ...
    'Length', 8.2, ...
    'Width', 2.5, ...
    'Height', 3.5, ...
    'Position', [-8.6 -12 0], ...
    'Mesh', driving.scenario.truckMesh, ...
    'PlotColor', [237 177 32] / 255, ...
    'Name', 'Truck');
waypoints = [-8.6 -12 0;
             3 -12.7 0;
             8.8 -13.4 0;
             13.4 -12.7 0;
             21.9 -9.4 0;
             29.2 -4.7 0;
             34.7 -1.8 0;
             39.1 0.2 0;
             51.6 2.4 0;
             60.4 -0.1 0;
             66.4 -2.7 0;
             72.2 -5.1 0;
             83.7 -9.8 0;
             91.2 -12 0;
             99.7 -11.4 0;
             108.1 -8.7 0;
             116.1 -5.1 0;
             124.9 -0.9 0];
speed = [30;12;0;30;30;30;12;0;30;30;12;0;30;30;12;0;30;30];
waittime = [0;0;0.2;0;0;0;0;0.2;0;0;0;0.1;0;0;0;0.2;0;0];
trajectory(egoVehicle, waypoints, speed, waittime);

% Add the non-ego actors
bicycle = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [20.6137238847987 -16.8444875669945 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.494 0.184 0.556], ...
    'Name', 'Bicycle');
waypoints = [20.6137238847987 -16.8444875669945 0;
             19.2 -13.4 0;
             17.9 -8 0;
             16.8 -3.4 0;
             15.9 0.8 0];
speed = [4;4;4;0;4];
waittime = [0;0;0;5;0];
trajectory(bicycle, waypoints, speed, waittime);

pedestrian = actor(scenario, ...
    'ClassID', 4, ...
    'Length', 0.24, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [48.5010149899654 -3.89999926413916 0], ...
    'RCSPattern', [-8 -8;-8 -8], ...
    'Mesh', driving.scenario.pedestrianMesh, ...
    'PlotColor', [0.466 0.674 0.188], ...
    'Name', 'Pedestrian');
waypoints = [48.5010149899654 -3.89999926413916 0;
             48.5 0.8 0;
             48.2 8.6 0;
             48.2 12.6 0];
speed = [2.2;2.2;0;2.2];
waittime = [0;0;5;0];
trajectory(pedestrian, waypoints, speed, waittime);

car = vehicle(scenario, ...
    'ClassID', 1, ...
    'Position', [76.4 -15.3 0], ...
    'Mesh', driving.scenario.carMesh, ...
    'PlotColor', [0.301 0.745 0.933], ...
    'Name', 'Car');
waypoints = [76.4 -15.3 0;
             79.3 -9.4 0;
             82.4 -2.9 0;
             83.9 1.5 0];
speed = [0;15;0;15];
waittime = [5;0;5;0];
trajectory(car, waypoints, speed, waittime);

bicycle1 = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [117.2 -13.8 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.635 0.078 0.184], ...
    'Name', 'Bicycle1');
waypoints = [117.2 -13.8 0;
             116.3 -8.5 0;
             115 -0.5 0;
             114.3 5.9 0];
speed = [0;4.5;2;4.5];
waittime = [6;0;0;0];
trajectory(bicycle1, waypoints, speed, waittime);
    case 2
        scenario = drivingScenario;

% Add all road segments
roadCenters = [-10.3 -11.5 0;
    17.5 -11.7 0;
    44.5 1.9 0;
    88.9 -11.5 0;
    125.3 -1 0];
roadWidth = 5;
road(scenario, roadCenters, roadWidth, 'Name', 'Road');

% Add the ego vehicle
egoVehicle = vehicle(scenario, ...
    'ClassID', 2, ...
    'Length', 8.2, ...
    'Width', 2.5, ...
    'Height', 3.5, ...
    'Position', [-8.6 -12 0], ...
    'Mesh', driving.scenario.truckMesh, ...
    'PlotColor', [237 177 32] / 255, ...
    'Name', 'Truck');
waypoints = [-8.6 -12 0;
    3 -12.7 0;
    8.8 -13.4 0;
    13.4 -12.7 0;
    21.9 -9.4 0;
    29.2 -4.7 0;
    34.7 -1.8 0;
    39.1 0.2 0;
    51.6 2.4 0;
    60.4 -0.1 0;
    66.4 -2.7 0;
    72.2 -5.1 0;
    83.7 -9.8 0;
    91.2 -12 0;
    99.7 -11.4 0;
    106.1 -9.8 0;
    116.1 -5.1 0;
    124.9 -0.9 0];
speed = [30;30;30;30;30;30;30;30;30;30;30;30;30;30;12;0;30;30];
waittime = [0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0.2;0;0];
trajectory(egoVehicle, waypoints, speed, waittime);

% Add the non-ego actors
bicycle = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [20.6137238847987 -16.8444875669945 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.494 0.184 0.556], ...
    'Name', 'Bicycle');
waypoints = [20.6137238847987 -16.8444875669945 0;
    19.2 -13.4 0;
    17.9 -8 0;
    16.8 -3.4 0;
    15.9 0.8 0];
speed = [0;5;5;0;5];
waittime = [10;0;0;5;0];
trajectory(bicycle, waypoints, speed, waittime);

pedestrian = actor(scenario, ...
    'ClassID', 4, ...
    'Length', 0.24, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [48.5010149899654 -3.89999926413916 0], ...
    'RCSPattern', [-8 -8;-8 -8], ...
    'Mesh', driving.scenario.pedestrianMesh, ...
    'PlotColor', [0.466 0.674 0.188], ...
    'Name', 'Pedestrian');
waypoints = [48.5010149899654 -3.89999926413916 0;
    48.5 0.8 0;
    48.2 8.6 0;
    48.2 12.6 0];
speed = [0;2.2;0;2.2];
waittime = [10;0;5;0];
trajectory(pedestrian, waypoints, speed, waittime);

car = vehicle(scenario, ...
    'ClassID', 1, ...
    'Position', [76.4 -15.3 0], ...
    'Mesh', driving.scenario.carMesh, ...
    'PlotColor', [0.301 0.745 0.933], ...
    'Name', 'Car');
waypoints = [76.4 -15.3 0;
    79.3 -9.4 0;
    82.4 -2.9 0;
    83.9 1.5 0];
speed = [0;15;0;15];
waittime = [10;0;5;0];
trajectory(car, waypoints, speed, waittime);

bicycle1 = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [117.2 -13.8 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.635 0.078 0.184], ...
    'Name', 'Bicycle1');
waypoints = [117.2 -13.8 0;
    116.3 -8.5 0;
    115 -0.5 0;
    114.3 5.9 0];
speed = [0;4.5;2;4.5];
waittime = [2;0;0;0];
trajectory(bicycle1, waypoints, speed, waittime);
    case 3
        scenario = drivingScenario;

% Add all road segments
roadCenters = [-10.3 -11.5 0;
    17.5 -11.7 0;
    44.5 1.9 0;
    88.9 -11.5 0;
    125.3 -1 0];
roadWidth = 5;
road(scenario, roadCenters, roadWidth, 'Name', 'Road');

% Add the ego vehicle
egoVehicle = vehicle(scenario, ...
    'ClassID', 2, ...
    'Length', 8.2, ...
    'Width', 2.5, ...
    'Height', 3.5, ...
    'Position', [-8.6 -12 0], ...
    'Mesh', driving.scenario.truckMesh, ...
    'PlotColor', [237 177 32] / 255, ...
    'Name', 'Truck');
waypoints = [-8.6 -12 0;
    3 -12.7 0;
    8.8 -13.4 0;
    13.4 -12.7 0;
    21.9 -9.4 0;
    29.2 -4.7 0;
    34.7 -1.8 0;
    39.1 0.2 0;
    51.6 2.4 0;
    60.4 -0.1 0;
    66.4 -2.7 0;
    72.2 -5.1 0;
    83.7 -9.8 0;
    91.2 -12 0;
    99.7 -11.4 0;
    106.1 -9.8 0;
    116.1 -5.1 0;
    124.9 -0.9 0];
speed = [30;30;30;30;30;30;5;0;30;30;30;30;30;30;30;30;30;30];
waittime = [0;0;0;0;0;0;0;0.2;0;0;0;0;0;0;0;0;0;0];
trajectory(egoVehicle, waypoints, speed, waittime);

% Add the non-ego actors
bicycle = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [20.6137238847987 -16.8444875669945 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.494 0.184 0.556], ...
    'Name', 'Bicycle');
waypoints = [20.6137238847987 -16.8444875669945 0;
    19.2 -13.4 0;
    17.9 -8 0;
    16.8 -3.4 0;
    15.9 0.8 0];
speed = [0;5;5;0;5];
waittime = [10;0;0;5;0];
trajectory(bicycle, waypoints, speed, waittime);

pedestrian = actor(scenario, ...
    'ClassID', 4, ...
    'Length', 0.24, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [48.5010149899654 -3.89999926413916 0], ...
    'RCSPattern', [-8 -8;-8 -8], ...
    'Mesh', driving.scenario.pedestrianMesh, ...
    'PlotColor', [0.466 0.674 0.188], ...
    'Name', 'Pedestrian');
waypoints = [48.5010149899654 -3.89999926413916 0;
    48.5 0.8 0;
    48.2 8.6 0;
    48.2 12.6 0];
speed = [0;3;0;5];
waittime = [0;0;5;0];
trajectory(pedestrian, waypoints, speed, waittime);

car = vehicle(scenario, ...
    'ClassID', 1, ...
    'Position', [76.4 -15.3 0], ...
    'Mesh', driving.scenario.carMesh, ...
    'PlotColor', [0.301 0.745 0.933], ...
    'Name', 'Car');
waypoints = [76.4 -15.3 0;
    79.3 -9.4 0;
    82.4 -2.9 0;
    83.9 1.5 0];
speed = [0;15;0;15];
waittime = [10;0;5;0];
trajectory(car, waypoints, speed, waittime);

bicycle1 = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [117.2 -13.8 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.635 0.078 0.184], ...
    'Name', 'Bicycle1');
waypoints = [117.2 -13.8 0;
    116.3 -8.5 0;
    115 -0.5 0;
    114.3 5.9 0];
speed = [0;4.5;2;4.5];
waittime = [10;0;0;0];
trajectory(bicycle1, waypoints, speed, waittime);
    case 4
        scenario = drivingScenario;

% Add all road segments
roadCenters = [-10.3 -11.5 0;
    17.5 -11.7 0;
    44.5 1.9 0;
    88.9 -11.5 0;
    125.3 -1 0];
roadWidth = 5;
road(scenario, roadCenters, roadWidth, 'Name', 'Road');

% Add the ego vehicle
egoVehicle = vehicle(scenario, ...
    'ClassID', 2, ...
    'Length', 8.2, ...
    'Width', 2.5, ...
    'Height', 3.5, ...
    'Position', [-8.6 -12 0], ...
    'Mesh', driving.scenario.truckMesh, ...
    'PlotColor', [237 177 32] / 255, ...
    'Name', 'Truck');
waypoints = [-8.6 -12 0;
    3 -12.7 0;
    8.8 -13.4 0;
    13.4 -12.7 0;
    21.9 -9.4 0;
    29.2 -4.7 0;
    34.7 -1.8 0;
    39.1 0.2 0;
    51.6 2.4 0;
    60.4 -0.1 0;
    66.4 -2.7 0;
    72.2 -5.1 0;
    83.7 -9.8 0;
    91.2 -12 0;
    99.7 -11.4 0;
    106.1 -9.8 0;
    116.1 -5.1 0;
    124.9 -0.9 0];
speed = [30;10;0;12;30;30;30;30;30;30;30;30;30;30;30;30;30;30];
waittime = [0;0;0.25;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0];
trajectory(egoVehicle, waypoints, speed, waittime);

% Add the non-ego actors
bicycle = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [20.6137238847987 -16.8444875669945 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.494 0.184 0.556], ...
    'Name', 'Bicycle');
waypoints = [20.6137238847987 -16.8444875669945 0;
    19.2 -13.4 0;
    17.9 -8 0;
    16.8 -3.4 0;
    15.9 0.8 0];
speed = [0;5;5;0;5];
waittime = [0;0;0;5;0];
trajectory(bicycle, waypoints, speed, waittime);

pedestrian = actor(scenario, ...
    'ClassID', 4, ...
    'Length', 0.24, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [48.5010149899654 -3.89999926413916 0], ...
    'RCSPattern', [-8 -8;-8 -8], ...
    'Mesh', driving.scenario.pedestrianMesh, ...
    'PlotColor', [0.466 0.674 0.188], ...
    'Name', 'Pedestrian');
waypoints = [48.5010149899654 -3.89999926413916 0;
    48.5 0.8 0;
    48.2 8.6 0;
    48.2 12.6 0];
speed = [0;5;0;5];
waittime = [10;0;5;0];
trajectory(pedestrian, waypoints, speed, waittime);

car = vehicle(scenario, ...
    'ClassID', 1, ...
    'Position', [76.4 -15.3 0], ...
    'Mesh', driving.scenario.carMesh, ...
    'PlotColor', [0.301 0.745 0.933], ...
    'Name', 'Car');
waypoints = [76.4 -15.3 0;
    79.3 -9.4 0;
    82.4 -2.9 0;
    83.9 1.5 0];
speed = [0;15;0;15];
waittime = [10;0;5;0];
trajectory(car, waypoints, speed, waittime);

bicycle1 = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [117.2 -13.8 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.635 0.078 0.184], ...
    'Name', 'Bicycle1');
waypoints = [117.2 -13.8 0;
    116.3 -8.5 0;
    115 -0.5 0;
    114.3 5.9 0];
speed = [0;4.5;2;4.5];
waittime = [10;0;0;0];
trajectory(bicycle1, waypoints, speed, waittime);
    case 5
        scenario = drivingScenario;

% Add all road segments
roadCenters = [-10.3 -11.5 0;
    17.5 -11.7 0;
    44.5 1.9 0;
    88.9 -11.5 0;
    125.3 -1 0];
roadWidth = 5;
road(scenario, roadCenters, roadWidth, 'Name', 'Road');

% Add the ego vehicle
egoVehicle = vehicle(scenario, ...
    'ClassID', 2, ...
    'Length', 8.2, ...
    'Width', 2.5, ...
    'Height', 3.5, ...
    'Position', [-8.6 -12 0], ...
    'Mesh', driving.scenario.truckMesh, ...
    'PlotColor', [237 177 32] / 255, ...
    'Name', 'Truck');
waypoints = [-8.6 -12 0;
    3 -12.7 0;
    8.8 -13.4 0;
    13.4 -12.7 0;
    21.9 -9.4 0;
    29.2 -4.7 0;
    34.7 -1.8 0;
    39.1 0.2 0;
    51.6 2.4 0;
    60.4 -0.1 0;
    66.4 -2.7 0;
    71.1 -4.7 0;
    83.7 -9.8 0;
    91.2 -12 0;
    99.7 -11.4 0;
    106.1 -9.8 0;
    116.1 -5.1 0;
    124.9 -0.9 0];
speed = [30;10;0;12;30;30;30;30;30;30;10;0;30;30;30;30;30;30];
waittime = [0;0;0.25;0;0;0;0;0;0;0;0;0.1;0;0;0;0;0;0];
trajectory(egoVehicle, waypoints, speed, waittime);

% Add the non-ego actors
bicycle = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [20.6137238847987 -16.8444875669945 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.494 0.184 0.556], ...
    'Name', 'Bicycle');
waypoints = [20.6137238847987 -16.8444875669945 0;
    19.2 -13.4 0;
    17.9 -8 0;
    16.8 -3.4 0;
    15.9 0.8 0];
speed = [0;5;5;0;5];
waittime = [0;0;0;5;0];
trajectory(bicycle, waypoints, speed, waittime);

pedestrian = actor(scenario, ...
    'ClassID', 4, ...
    'Length', 0.24, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [48.5010149899654 -3.89999926413916 0], ...
    'RCSPattern', [-8 -8;-8 -8], ...
    'Mesh', driving.scenario.pedestrianMesh, ...
    'PlotColor', [0.466 0.674 0.188], ...
    'Name', 'Pedestrian');
waypoints = [48.5010149899654 -3.89999926413916 0;
    48.5 0.8 0;
    48.2 8.6 0;
    48.2 12.6 0];
speed = [0;5;0;5];
waittime = [10;0;5;0];
trajectory(pedestrian, waypoints, speed, waittime);

car = vehicle(scenario, ...
    'ClassID', 1, ...
    'Position', [76.4 -15.3 0], ...
    'Mesh', driving.scenario.carMesh, ...
    'PlotColor', [0.301 0.745 0.933], ...
    'Name', 'Car');
waypoints = [76.4 -15.3 0;
    79.3 -9.4 0;
    82.4 -2.9 0;
    83.9 1.5 0];
speed = [0;15;0;15];
waittime = [4.7;0;5;0];
trajectory(car, waypoints, speed, waittime);

bicycle1 = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [117.2 -13.8 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.635 0.078 0.184], ...
    'Name', 'Bicycle1');
waypoints = [117.2 -13.8 0;
    116.3 -8.5 0;
    115 -0.5 0;
    114.3 5.9 0];
speed = [0;4.5;2;4.5];
waittime = [10;0;0;0];
trajectory(bicycle1, waypoints, speed, waittime);
    case 6
        scenario = drivingScenario;

% Add all road segments
roadCenters = [-10.3 -11.5 0;
    17.5 -11.7 0;
    44.5 1.9 0;
    88.9 -11.5 0;
    125.3 -1 0];
roadWidth = 5;
road(scenario, roadCenters, roadWidth, 'Name', 'Road');

% Add the ego vehicle
egoVehicle = vehicle(scenario, ...
    'ClassID', 2, ...
    'Length', 8.2, ...
    'Width', 2.5, ...
    'Height', 3.5, ...
    'Position', [-8.6 -12 0], ...
    'Mesh', driving.scenario.truckMesh, ...
    'PlotColor', [237 177 32] / 255, ...
    'Name', 'Truck');
waypoints = [-8.6 -12 0;
    3 -12.7 0;
    8.8 -13.4 0;
    13.4 -12.7 0;
    21.9 -9.4 0;
    29.2 -4.7 0;
    34.7 -1.8 0;
    39.1 0.2 0;
    51.6 2.4 0;
    60.4 -0.1 0;
    66.4 -2.7 0;
    71.1 -4.7 0;
    83.7 -9.8 0;
    91.2 -12 0;
    99.7 -11.4 0;
    106.1 -9.8 0;
    116.1 -5.1 0;
    124.9 -0.9 0];
speed = [30;10;0;12;30;30;30;30;30;30;30;30;30;30;15;0;30;30];
waittime = [0;0;0.25;0;0;0;0;0;0;0;0;0;0;0;0;0.35;0;0];
trajectory(egoVehicle, waypoints, speed, waittime);

% Add the non-ego actors
bicycle = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [20.6137238847987 -16.8444875669945 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.494 0.184 0.556], ...
    'Name', 'Bicycle');
waypoints = [20.6137238847987 -16.8444875669945 0;
    19.2 -13.4 0;
    17.9 -8 0;
    16.8 -3.4 0;
    15.9 0.8 0];
speed = [0;5;5;0;5];
waittime = [0;0;0;5;0];
trajectory(bicycle, waypoints, speed, waittime);

pedestrian = actor(scenario, ...
    'ClassID', 4, ...
    'Length', 0.24, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [48.5010149899654 -3.89999926413916 0], ...
    'RCSPattern', [-8 -8;-8 -8], ...
    'Mesh', driving.scenario.pedestrianMesh, ...
    'PlotColor', [0.466 0.674 0.188], ...
    'Name', 'Pedestrian');
waypoints = [48.5010149899654 -3.89999926413916 0;
    48.5 0.8 0;
    48.2 8.6 0;
    48.2 12.6 0];
speed = [0;5;0;5];
waittime = [10;0;5;0];
trajectory(pedestrian, waypoints, speed, waittime);

car = vehicle(scenario, ...
    'ClassID', 1, ...
    'Position', [76.4 -15.3 0], ...
    'Mesh', driving.scenario.carMesh, ...
    'PlotColor', [0.301 0.745 0.933], ...
    'Name', 'Car');
waypoints = [76.4 -15.3 0;
    79.3 -9.4 0;
    82.4 -2.9 0;
    83.9 1.5 0];
speed = [0;15;0;15];
waittime = [10;0;5;0];
trajectory(car, waypoints, speed, waittime);

bicycle1 = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [117.2 -13.8 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.635 0.078 0.184], ...
    'Name', 'Bicycle1');
waypoints = [117.2 -13.8 0;
    116.3 -8.5 0;
    115 -0.5 0;
    114.3 5.9 0];
speed = [0;4.5;2;4.5];
waittime = [4;0;0;0];
trajectory(bicycle1, waypoints, speed, waittime);
    case 7
        scenario = drivingScenario;

% Add all road segments
roadCenters = [-10.3 -11.5 0;
    17.5 -11.7 0;
    44.5 1.9 0;
    88.9 -11.5 0;
    125.3 -1 0];
roadWidth = 5;
road(scenario, roadCenters, roadWidth, 'Name', 'Road');

% Add the ego vehicle
egoVehicle = vehicle(scenario, ...
    'ClassID', 2, ...
    'Length', 8.2, ...
    'Width', 2.5, ...
    'Height', 3.5, ...
    'Position', [-8.6 -12 0], ...
    'Mesh', driving.scenario.truckMesh, ...
    'PlotColor', [237 177 32] / 255, ...
    'Name', 'Truck');
waypoints = [-8.6 -12 0;
    3 -12.7 0;
    8.8 -13.4 0;
    13.4 -12.7 0;
    21.9 -9.4 0;
    29.2 -4.7 0;
    34.7 -1.8 0;
    39.1 0.2 0;
    51.6 2.4 0;
    60.4 -0.1 0;
    66.4 -2.7 0;
    71.1 -4.7 0;
    83.7 -9.8 0;
    91.2 -12 0;
    99.7 -11.4 0;
    106.1 -9.8 0;
    116.1 -5.1 0;
    124.9 -0.9 0];
speed = [30;30;30;30;30;30;10;0;30;30;30;30;30;30;15;0;30;30];
waittime = [0;0;0;0;0;0;0;0.2;0;0;0;0;0;0;0;0.35;0;0];
trajectory(egoVehicle, waypoints, speed, waittime);

% Add the non-ego actors
bicycle = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [20.6137238847987 -16.8444875669945 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.494 0.184 0.556], ...
    'Name', 'Bicycle');
waypoints = [20.6137238847987 -16.8444875669945 0;
    19.2 -13.4 0;
    17.9 -8 0;
    16.8 -3.4 0;
    15.9 0.8 0];
speed = [0;5;5;0;5];
waittime = [0;0;0;5;0];
trajectory(bicycle, waypoints, speed, waittime);

pedestrian = actor(scenario, ...
    'ClassID', 4, ...
    'Length', 0.24, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [48.5010149899654 -3.89999926413916 0], ...
    'RCSPattern', [-8 -8;-8 -8], ...
    'Mesh', driving.scenario.pedestrianMesh, ...
    'PlotColor', [0.466 0.674 0.188], ...
    'Name', 'Pedestrian');
waypoints = [48.5010149899654 -3.89999926413916 0;
    48.5 0.8 0;
    48.2 8.6 0;
    48.2 12.6 0];
speed = [0;5;0;5];
waittime = [0;0;5;0];
trajectory(pedestrian, waypoints, speed, waittime);

car = vehicle(scenario, ...
    'ClassID', 1, ...
    'Position', [76.4 -15.3 0], ...
    'Mesh', driving.scenario.carMesh, ...
    'PlotColor', [0.301 0.745 0.933], ...
    'Name', 'Car');
waypoints = [76.4 -15.3 0;
    79.3 -9.4 0;
    82.4 -2.9 0;
    83.9 1.5 0];
speed = [0;15;0;15];
waittime = [10;0;5;0];
trajectory(car, waypoints, speed, waittime);

bicycle1 = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [117.2 -13.8 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.635 0.078 0.184], ...
    'Name', 'Bicycle1');
waypoints = [117.2 -13.8 0;
    116.3 -8.5 0;
    115 -0.5 0;
    114.3 5.9 0];
speed = [0;4.5;2;4.5];
waittime = [3.5;0;0;0];
trajectory(bicycle1, waypoints, speed, waittime);
    case 8
        scenario = drivingScenario;

% Add all road segments
roadCenters = [-10.3 -11.5 0;
    17.5 -11.7 0;
    44.5 1.9 0;
    88.9 -11.5 0;
    125.3 -1 0];
roadWidth = 5;
road(scenario, roadCenters, roadWidth, 'Name', 'Road');

% Add the ego vehicle
egoVehicle = vehicle(scenario, ...
    'ClassID', 2, ...
    'Length', 8.2, ...
    'Width', 2.5, ...
    'Height', 3.5, ...
    'Position', [-8.6 -12 0], ...
    'Mesh', driving.scenario.truckMesh, ...
    'PlotColor', [237 177 32] / 255, ...
    'Name', 'Truck');
waypoints = [-8.6 -12 0;
    3 -12.7 0;
    8.8 -13.4 0;
    13.4 -12.7 0;
    21.9 -9.4 0;
    29.2 -4.7 0;
    34.7 -1.8 0;
    39.1 0.2 0;
    51.6 2.4 0;
    60.4 -0.1 0;
    66.4 -2.7 0;
    71.1 -4.7 0;
    83.7 -9.8 0;
    91.2 -12 0;
    99.7 -11.4 0;
    106.1 -9.8 0;
    116.1 -5.1 0;
    124.9 -0.9 0];
speed = [30;30;30;30;30;30;10;0;30;30;10;0;30;30;30;30;30;30];
waittime = [0;0;0;0;0;0;0;0.2;0;0;0;0.1;0;0;0;0;0;0];
trajectory(egoVehicle, waypoints, speed, waittime);

% Add the non-ego actors
bicycle = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [20.6137238847987 -16.8444875669945 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.494 0.184 0.556], ...
    'Name', 'Bicycle');
waypoints = [20.6137238847987 -16.8444875669945 0;
    19.2 -13.4 0;
    17.9 -8 0;
    16.8 -3.4 0;
    15.9 0.8 0];
speed = [0;5;5;0;5];
waittime = [0;0;0;5;0];
trajectory(bicycle, waypoints, speed, waittime);

pedestrian = actor(scenario, ...
    'ClassID', 4, ...
    'Length', 0.24, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [48.5010149899654 -3.89999926413916 0], ...
    'RCSPattern', [-8 -8;-8 -8], ...
    'Mesh', driving.scenario.pedestrianMesh, ...
    'PlotColor', [0.466 0.674 0.188], ...
    'Name', 'Pedestrian');
waypoints = [48.5010149899654 -3.89999926413916 0;
    48.5 0.8 0;
    48.2 8.6 0;
    48.2 12.6 0];
speed = [0;5;0;5];
waittime = [0;0;5;0];
trajectory(pedestrian, waypoints, speed, waittime);

car = vehicle(scenario, ...
    'ClassID', 1, ...
    'Position', [76.4 -15.3 0], ...
    'Mesh', driving.scenario.carMesh, ...
    'PlotColor', [0.301 0.745 0.933], ...
    'Name', 'Car');
waypoints = [76.4 -15.3 0;
    79.3 -9.4 0;
    82.4 -2.9 0;
    83.9 1.5 0];
speed = [0;15;0;15];
waittime = [4;0;5;0];
trajectory(car, waypoints, speed, waittime);

bicycle1 = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [117.2 -13.8 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.635 0.078 0.184], ...
    'Name', 'Bicycle1');
waypoints = [117.2 -13.8 0;
    116.3 -8.5 0;
    115 -0.5 0;
    114.3 5.9 0];
speed = [0;4.5;2;4.5];
waittime = [10;0;0;0];
trajectory(bicycle1, waypoints, speed, waittime);
    case 9
scenario = drivingScenario;

% Add all road segments
roadCenters = [-10.3 -11.5 0;
    17.5 -11.7 0;
    44.5 1.9 0;
    88.9 -11.5 0;
    125.3 -1 0];
roadWidth = 5;
road(scenario, roadCenters, roadWidth, 'Name', 'Road');

% Add the ego vehicle
egoVehicle = vehicle(scenario, ...
    'ClassID', 2, ...
    'Length', 8.2, ...
    'Width', 2.5, ...
    'Height', 3.5, ...
    'Position', [-8.6 -12 0], ...
    'Mesh', driving.scenario.truckMesh, ...
    'PlotColor', [237 177 32] / 255, ...
    'Name', 'Truck');
waypoints = [-8.6 -12 0;
    3 -12.7 0;
    8.8 -13.4 0;
    13.4 -12.7 0;
    21.9 -9.4 0;
    29.2 -4.7 0;
    34.7 -1.8 0;
    39.1 0.2 0;
    51.6 2.4 0;
    60.4 -0.1 0;
    66.4 -2.7 0;
    71.1 -4.7 0;
    83.7 -9.8 0;
    91.2 -12 0;
    99.7 -11.4 0;
    106.1 -9.8 0;
    116.1 -5.1 0;
    124.9 -0.9 0];
speed = [30;30;30;30;30;30;10;0;30;30;10;0;30;30;17;0;30;30];
waittime = [0;0;0;0;0;0;0;0.2;0;0;0;0.1;0;0;0;0.35;0;0];
trajectory(egoVehicle, waypoints, speed, waittime);

% Add the non-ego actors
bicycle = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [20.6137238847987 -16.8444875669945 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.494 0.184 0.556], ...
    'Name', 'Bicycle');
waypoints = [20.6137238847987 -16.8444875669945 0;
    19.2 -13.4 0;
    17.9 -8 0;
    16.8 -3.4 0;
    15.9 0.8 0];
speed = [0;5;5;0;5];
waittime = [0;0;0;5;0];
trajectory(bicycle, waypoints, speed, waittime);

pedestrian = actor(scenario, ...
    'ClassID', 4, ...
    'Length', 0.24, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [48.5010149899654 -3.89999926413916 0], ...
    'RCSPattern', [-8 -8;-8 -8], ...
    'Mesh', driving.scenario.pedestrianMesh, ...
    'PlotColor', [0.466 0.674 0.188], ...
    'Name', 'Pedestrian');
waypoints = [48.5010149899654 -3.89999926413916 0;
    48.5 0.8 0;
    48.2 8.6 0;
    48.2 12.6 0];
speed = [0;5;0;5];
waittime = [0;0;5;0];
trajectory(pedestrian, waypoints, speed, waittime);

car = vehicle(scenario, ...
    'ClassID', 1, ...
    'Position', [76.4 -15.3 0], ...
    'Mesh', driving.scenario.carMesh, ...
    'PlotColor', [0.301 0.745 0.933], ...
    'Name', 'Car');
waypoints = [76.4 -15.3 0;
    79.3 -9.4 0;
    82.4 -2.9 0;
    83.9 1.5 0];
speed = [0;15;0;15];
waittime = [4;0;5;0];
trajectory(car, waypoints, speed, waittime);

bicycle1 = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [117.2 -13.8 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.635 0.078 0.184], ...
    'Name', 'Bicycle1');
waypoints = [117.2 -13.8 0;
    116.3 -8.5 0;
    115 -0.5 0;
    114.3 5.9 0];
speed = [0;4.5;2;4];
waittime = [4.5;0;0;0];
trajectory(bicycle1, waypoints, speed, waittime);
    case 10
        scenario = drivingScenario;

% Add all road segments
roadCenters = [-10.3 -11.5 0;
    17.5 -11.7 0;
    44.5 1.9 0;
    88.9 -11.5 0;
    125.3 -1 0];
roadWidth = 5;
road(scenario, roadCenters, roadWidth, 'Name', 'Road');

% Add the ego vehicle
egoVehicle = vehicle(scenario, ...
    'ClassID', 2, ...
    'Length', 8.2, ...
    'Width', 2.5, ...
    'Height', 3.5, ...
    'Position', [-8.6 -12 0], ...
    'Mesh', driving.scenario.truckMesh, ...
    'PlotColor', [237 177 32] / 255, ...
    'Name', 'Truck');
waypoints = [-8.6 -12 0;
    3 -12.7 0;
    8.8 -13.4 0;
    13.4 -12.7 0;
    21.9 -9.4 0;
    29.2 -4.7 0;
    34.7 -1.8 0;
    39.1 0.2 0;
    51.6 2.4 0;
    60.4 -0.1 0;
    66.4 -2.7 0;
    71.1 -4.7 0;
    83.7 -9.8 0;
    91.2 -12 0;
    99.7 -11.4 0;
    106.1 -9.8 0;
    116.1 -5.1 0;
    124.9 -0.9 0];
speed = [30;12;0;30;30;30;30;30;30;30;13;0;30;30;13;0;30;30];
waittime = [0;0;0.4;0;0;0;0;0;0;0;0;0.1;0;0;0;0.35;0;0];
trajectory(egoVehicle, waypoints, speed, waittime);

% Add the non-ego actors
bicycle = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [20.6137238847987 -16.8444875669945 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.494 0.184 0.556], ...
    'Name', 'Bicycle');
waypoints = [20.6137238847987 -16.8444875669945 0;
    19.2 -13.4 0;
    17.9 -8 0;
    16.8 -3.4 0;
    15.9 0.8 0];
speed = [0;5;5;0;4];
waittime = [0;0;0;5;0];
trajectory(bicycle, waypoints, speed, waittime);

pedestrian = actor(scenario, ...
    'ClassID', 4, ...
    'Length', 0.24, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [48.5010149899654 -3.89999926413916 0], ...
    'RCSPattern', [-8 -8;-8 -8], ...
    'Mesh', driving.scenario.pedestrianMesh, ...
    'PlotColor', [0.466 0.674 0.188], ...
    'Name', 'Pedestrian');
waypoints = [48.5010149899654 -3.89999926413916 0;
    48.5 0.8 0;
    48.2 8.6 0;
    48.2 12.6 0];
speed = [0;5;0;5];
waittime = [10;0;5;0];
trajectory(pedestrian, waypoints, speed, waittime);

car = vehicle(scenario, ...
    'ClassID', 1, ...
    'Position', [76.4 -15.3 0], ...
    'Mesh', driving.scenario.carMesh, ...
    'PlotColor', [0.301 0.745 0.933], ...
    'Name', 'Car');
waypoints = [76.4 -15.3 0;
    79.3 -9.4 0;
    82.4 -2.9 0;
    83.9 1.5 0];
speed = [0;15;0;15];
waittime = [4.3;0;5;0];
trajectory(car, waypoints, speed, waittime);

bicycle1 = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [117.2 -13.8 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.635 0.078 0.184], ...
    'Name', 'Bicycle1');
waypoints = [117.2 -13.8 0;
    116.3 -8.5 0;
    115 -0.5 0;
    114.3 5.9 0];
speed = [0;4.5;2;4.5];
waittime = [5;0;0;0];
trajectory(bicycle1, waypoints, speed, waittime);
    case 11
        scenario = drivingScenario;

% Add all road segments
roadCenters = [-10.3 -11.5 0;
    17.5 -11.7 0;
    44.5 1.9 0;
    88.9 -11.5 0;
    125.3 -1 0];
roadWidth = 5;
road(scenario, roadCenters, roadWidth, 'Name', 'Road');

% Add the ego vehicle
egoVehicle = vehicle(scenario, ...
    'ClassID', 2, ...
    'Length', 8.2, ...
    'Width', 2.5, ...
    'Height', 3.5, ...
    'Position', [-8.6 -12 0], ...
    'Mesh', driving.scenario.truckMesh, ...
    'PlotColor', [237 177 32] / 255, ...
    'Name', 'Truck');
waypoints = [-8.6 -12 0;
    3 -12.7 0;
    8.8 -13.4 0;
    13.4 -12.7 0;
    21.9 -9.4 0;
    29.2 -4.7 0;
    34.7 -1.8 0;
    39.1 0.2 0;
    51.6 2.4 0;
    60.4 -0.1 0;
    66.4 -2.7 0;
    71.1 -4.7 0;
    83.7 -9.8 0;
    91.2 -12 0;
    99.7 -11.4 0;
    106.1 -9.8 0;
    116.1 -5.1 0;
    124.9 -0.9 0];
speed = [30;11;0;30;30;30;10;0;30;30;30;30;30;30;15;0;30;30];
waittime = [0;0;0.4;0;0;0;0;0.1;0;0;0;0;0;0;0;0.35;0;0];
trajectory(egoVehicle, waypoints, speed, waittime);

% Add the non-ego actors
bicycle = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [20.6137238847987 -16.8444875669945 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.494 0.184 0.556], ...
    'Name', 'Bicycle');
waypoints = [20.6137238847987 -16.8444875669945 0;
    19.2 -13.4 0;
    17.9 -8 0;
    16.8 -3.4 0;
    15.9 0.8 0];
speed = [0;5;5;0;5];
waittime = [0;0;0;5;0];
trajectory(bicycle, waypoints, speed, waittime);

pedestrian = actor(scenario, ...
    'ClassID', 4, ...
    'Length', 0.24, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [48.5010149899654 -3.89999926413916 0], ...
    'RCSPattern', [-8 -8;-8 -8], ...
    'Mesh', driving.scenario.pedestrianMesh, ...
    'PlotColor', [0.466 0.674 0.188], ...
    'Name', 'Pedestrian');
waypoints = [48.5010149899654 -3.89999926413916 0;
    48.5 0.8 0;
    48.2 8.6 0;
    48.2 12.6 0];
speed = [0;5;0;5];
waittime = [2;0;5;0];
trajectory(pedestrian, waypoints, speed, waittime);

car = vehicle(scenario, ...
    'ClassID', 1, ...
    'Position', [76.4 -15.3 0], ...
    'Mesh', driving.scenario.carMesh, ...
    'PlotColor', [0.301 0.745 0.933], ...
    'Name', 'Car');
waypoints = [76.4 -15.3 0;
    79.3 -9.4 0;
    82.4 -2.9 0;
    83.9 1.5 0];
speed = [0;15;0;15];
waittime = [10;0;5;0];
trajectory(car, waypoints, speed, waittime);

bicycle1 = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [117.2 -13.8 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.635 0.078 0.184], ...
    'Name', 'Bicycle1');
waypoints = [117.2 -13.8 0;
    116.3 -8.5 0;
    115 -0.5 0;
    114.3 5.9 0];
speed = [0;4.5;2;4.5];
waittime = [5.3;0;0;0];
trajectory(bicycle1, waypoints, speed, waittime);
    case 12
        scenario = drivingScenario;

% Add all road segments
roadCenters = [-10.3 -11.5 0;
    17.5 -11.7 0;
    44.5 1.9 0;
    88.9 -11.5 0;
    125.3 -1 0];
roadWidth = 5;
road(scenario, roadCenters, roadWidth, 'Name', 'Road');

% Add the ego vehicle
egoVehicle = vehicle(scenario, ...
    'ClassID', 2, ...
    'Length', 8.2, ...
    'Width', 2.5, ...
    'Height', 3.5, ...
    'Position', [-8.6 -12 0], ...
    'Mesh', driving.scenario.truckMesh, ...
    'PlotColor', [237 177 32] / 255, ...
    'Name', 'Truck');
waypoints = [-8.6 -12 0;
    3 -12.7 0;
    8.8 -13.4 0;
    13.4 -12.7 0;
    21.9 -9.4 0;
    29.2 -4.7 0;
    34.7 -1.8 0;
    39.1 0.2 0;
    51.6 2.4 0;
    60.4 -0.1 0;
    66.4 -2.7 0;
    71.1 -4.7 0;
    83.7 -9.8 0;
    91.2 -12 0;
    99.7 -11.4 0;
    106.1 -9.8 0;
    116.1 -5.1 0;
    124.9 -0.9 0];
speed = [30;8;0;30;30;30;10;0;30;30;12;0;30;30;30;30;30;30];
waittime = [0;0;0.4;0;0;0;0;0.1;0;0;0;0.2;0;0;0;0;0;0];
trajectory(egoVehicle, waypoints, speed, waittime);

% Add the non-ego actors
bicycle = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [20.6137238847987 -16.8444875669945 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.494 0.184 0.556], ...
    'Name', 'Bicycle');
waypoints = [20.6137238847987 -16.8444875669945 0;
    19.2 -13.4 0;
    17.9 -8 0;
    16.8 -3.4 0;
    15.9 0.8 0];
speed = [0;4;4;0;5];
waittime = [0;0;0;5;0];
trajectory(bicycle, waypoints, speed, waittime);

pedestrian = actor(scenario, ...
    'ClassID', 4, ...
    'Length', 0.24, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [48.5010149899654 -3.89999926413916 0], ...
    'RCSPattern', [-8 -8;-8 -8], ...
    'Mesh', driving.scenario.pedestrianMesh, ...
    'PlotColor', [0.466 0.674 0.188], ...
    'Name', 'Pedestrian');
waypoints = [48.5010149899654 -3.89999926413916 0;
    48.5 0.8 0;
    48.2 8.6 0;
    48.2 12.6 0];
speed = [0;5;0;5];
waittime = [2;0;5;0];
trajectory(pedestrian, waypoints, speed, waittime);

car = vehicle(scenario, ...
    'ClassID', 1, ...
    'Position', [76.4 -15.3 0], ...
    'Mesh', driving.scenario.carMesh, ...
    'PlotColor', [0.301 0.745 0.933], ...
    'Name', 'Car');
waypoints = [76.4 -15.3 0;
    79.3 -9.4 0;
    82.4 -2.9 0;
    83.9 1.5 0];
speed = [0;15;0;15];
waittime = [6;0;5;0];
trajectory(car, waypoints, speed, waittime);

bicycle1 = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [117.2 -13.8 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.635 0.078 0.184], ...
    'Name', 'Bicycle1');
waypoints = [117.2 -13.8 0;
    116.3 -8.5 0;
    115 -0.5 0;
    114.3 5.9 0];
speed = [0;4.5;2;4.5];
waittime = [10;0;0;0];
trajectory(bicycle1, waypoints, speed, waittime);
    case 13
        scenario = drivingScenario;

% Add all road segments
roadCenters = [-10.3 -11.5 0;
    17.5 -11.7 0;
    44.5 1.9 0;
    88.9 -11.5 0;
    125.3 -1 0];
roadWidth = 5;
road(scenario, roadCenters, roadWidth, 'Name', 'Road');

% Add the ego vehicle
egoVehicle = vehicle(scenario, ...
    'ClassID', 2, ...
    'Length', 8.2, ...
    'Width', 2.5, ...
    'Height', 3.5, ...
    'Position', [-8.6 -12 0], ...
    'Mesh', driving.scenario.truckMesh, ...
    'PlotColor', [237 177 32] / 255, ...
    'Name', 'Truck');
waypoints = [-8.6 -12 0;
    3 -12.7 0;
    8.8 -13.4 0;
    13.4 -12.7 0;
    21.9 -9.4 0;
    29.2 -4.7 0;
    34.7 -1.8 0;
    39.1 0.2 0;
    51.6 2.4 0;
    60.4 -0.1 0;
    66.4 -2.7 0;
    71.1 -4.7 0;
    83.7 -9.8 0;
    91.2 -12 0;
    99.7 -11.4 0;
    106.1 -9.8 0;
    116.1 -5.1 0;
    124.9 -0.9 0];
speed = [30;8;0;30;30;30;30;30;30;30;12;0;30;30;30;30;30;30];
waittime = [0;0;0.4;0;0;0;0;0;0;0;0;0.2;0;0;0;0;0;0];
trajectory(egoVehicle, waypoints, speed, waittime);

% Add the non-ego actors
bicycle = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [20.6137238847987 -16.8444875669945 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.494 0.184 0.556], ...
    'Name', 'Bicycle');
waypoints = [20.6137238847987 -16.8444875669945 0;
    19.2 -13.4 0;
    17.9 -8 0;
    16.8 -3.4 0;
    15.9 0.8 0];
speed = [0;4;4;0;5];
waittime = [0;0;0;5;0];
trajectory(bicycle, waypoints, speed, waittime);

pedestrian = actor(scenario, ...
    'ClassID', 4, ...
    'Length', 0.24, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [48.5010149899654 -3.89999926413916 0], ...
    'RCSPattern', [-8 -8;-8 -8], ...
    'Mesh', driving.scenario.pedestrianMesh, ...
    'PlotColor', [0.466 0.674 0.188], ...
    'Name', 'Pedestrian');
waypoints = [48.5010149899654 -3.89999926413916 0;
    48.5 0.8 0;
    48.2 8.6 0;
    48.2 12.6 0];
speed = [0;5;0;5];
waittime = [10;0;5;0];
trajectory(pedestrian, waypoints, speed, waittime);

car = vehicle(scenario, ...
    'ClassID', 1, ...
    'Position', [76.4 -15.3 0], ...
    'Mesh', driving.scenario.carMesh, ...
    'PlotColor', [0.301 0.745 0.933], ...
    'Name', 'Car');
waypoints = [76.4 -15.3 0;
    79.3 -9.4 0;
    82.4 -2.9 0;
    83.9 1.5 0];
speed = [0;15;0;15];
waittime = [4.5;0;5;0];
trajectory(car, waypoints, speed, waittime);

bicycle1 = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [117.2 -13.8 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.635 0.078 0.184], ...
    'Name', 'Bicycle1');
waypoints = [117.2 -13.8 0;
    116.3 -8.5 0;
    115 -0.5 0;
    114.3 5.9 0];
speed = [0;4.5;2;4.5];
waittime = [10;0;0;0];
trajectory(bicycle1, waypoints, speed, waittime);
    case 14
        scenario = drivingScenario;

% Add all road segments
roadCenters = [-10.3 -11.5 0;
    17.5 -11.7 0;
    44.5 1.9 0;
    88.9 -11.5 0;
    125.3 -1 0];
roadWidth = 5;
road(scenario, roadCenters, roadWidth, 'Name', 'Road');

% Add the ego vehicle
egoVehicle = vehicle(scenario, ...
    'ClassID', 2, ...
    'Length', 8.2, ...
    'Width', 2.5, ...
    'Height', 3.5, ...
    'Position', [-8.6 -12 0], ...
    'Mesh', driving.scenario.truckMesh, ...
    'PlotColor', [237 177 32] / 255, ...
    'Name', 'Truck');
waypoints = [-8.6 -12 0;
    3 -12.7 0;
    8.8 -13.4 0;
    13.4 -12.7 0;
    21.9 -9.4 0;
    29.2 -4.7 0;
    34.7 -1.8 0;
    39.1 0.2 0;
    51.6 2.4 0;
    60.4 -0.1 0;
    66.4 -2.7 0;
    71.1 -4.7 0;
    83.7 -9.8 0;
    91.2 -12 0;
    99.7 -11.4 0;
    106.1 -9.8 0;
    116.1 -5.1 0;
    124.9 -0.9 0];
speed = [30;30;30;30;30;30;30;30;30;30;8;0;30;30;11;0;30;30];
waittime = [0;0;0;0;0;0;0;0;0;0;0;0.2;0;0;0;0.35;0;0];
trajectory(egoVehicle, waypoints, speed, waittime);

% Add the non-ego actors
bicycle = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [20.6137238847987 -16.8444875669945 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.494 0.184 0.556], ...
    'Name', 'Bicycle');
waypoints = [20.6137238847987 -16.8444875669945 0;
    19.2 -13.4 0;
    17.9 -8 0;
    16.8 -3.4 0;
    15.9 0.8 0];
speed = [0;5;5;0;5];
waittime = [10;0;0;5;0];
trajectory(bicycle, waypoints, speed, waittime);

pedestrian = actor(scenario, ...
    'ClassID', 4, ...
    'Length', 0.24, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [48.5010149899654 -3.89999926413916 0], ...
    'RCSPattern', [-8 -8;-8 -8], ...
    'Mesh', driving.scenario.pedestrianMesh, ...
    'PlotColor', [0.466 0.674 0.188], ...
    'Name', 'Pedestrian');
waypoints = [48.5010149899654 -3.89999926413916 0;
    48.5 0.8 0;
    48.2 8.6 0;
    48.2 12.6 0];
speed = [0;5;0;5];
waittime = [10;0;5;0];
trajectory(pedestrian, waypoints, speed, waittime);

car = vehicle(scenario, ...
    'ClassID', 1, ...
    'Position', [76.4 -15.3 0], ...
    'Mesh', driving.scenario.carMesh, ...
    'PlotColor', [0.301 0.745 0.933], ...
    'Name', 'Car');
waypoints = [76.4 -15.3 0;
    79.3 -9.4 0;
    82.4 -2.9 0;
    83.9 1.5 0];
speed = [0;10;0;15];
waittime = [2.5;0;5;0];
trajectory(car, waypoints, speed, waittime);

bicycle1 = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [117.2 -13.8 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.635 0.078 0.184], ...
    'Name', 'Bicycle1');
waypoints = [117.2 -13.8 0;
    116.3 -8.5 0;
    115 -0.5 0;
    114.3 5.9 0];
speed = [0;4.5;2;4.5];
waittime = [4;0;0;0];
trajectory(bicycle1, waypoints, speed, waittime);
    case 15
        scenario = drivingScenario;

% Add all road segments
roadCenters = [-10.3 -11.5 0;
    17.5 -11.7 0;
    44.5 1.9 0;
    88.9 -11.5 0;
    125.3 -1 0];
roadWidth = 5;
road(scenario, roadCenters, roadWidth, 'Name', 'Road');

% Add the ego vehicle
egoVehicle = vehicle(scenario, ...
    'ClassID', 2, ...
    'Length', 8.2, ...
    'Width', 2.5, ...
    'Height', 3.5, ...
    'Position', [-8.6 -12 0], ...
    'Mesh', driving.scenario.truckMesh, ...
    'PlotColor', [237 177 32] / 255, ...
    'Name', 'Truck');
waypoints = [-8.6 -12 0;
    3 -12.7 0;
    8.8 -13.4 0;
    13.4 -12.7 0;
    21.9 -9.4 0;
    29.2 -4.7 0;
    34.7 -1.8 0;
    39.1 0.2 0;
    51.6 2.4 0;
    60.4 -0.1 0;
    66.4 -2.7 0;
    72.2 -5.1 0;
    83.7 -9.8 0;
    91.2 -12 0;
    99.7 -11.4 0;
    106.1 -9.8 0;
    116.1 -5.1 0;
    124.9 -0.9 0];
speed = [30;30;30;30;30;30;30;30;30;30;30;30;30;30;30;30;30;30];
waittime = [0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0];
trajectory(egoVehicle, waypoints, speed, waittime);

% Add the non-ego actors
bicycle = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [20.6137238847987 -16.8444875669945 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.494 0.184 0.556], ...
    'Name', 'Bicycle');
waypoints = [20.6137238847987 -16.8444875669945 0;
    19.2 -13.4 0;
    17.9 -8 0;
    16.8 -3.4 0;
    15.9 0.8 0];
speed = [0;5;5;0;5];
waittime = [10;0;0;5;0];
trajectory(bicycle, waypoints, speed, waittime);

pedestrian = actor(scenario, ...
    'ClassID', 4, ...
    'Length', 0.24, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [48.5010149899654 -3.89999926413916 0], ...
    'RCSPattern', [-8 -8;-8 -8], ...
    'Mesh', driving.scenario.pedestrianMesh, ...
    'PlotColor', [0.466 0.674 0.188], ...
    'Name', 'Pedestrian');
waypoints = [48.5010149899654 -3.89999926413916 0;
    48.5 0.8 0;
    48.2 8.6 0;
    48.2 12.6 0];
speed = [0;2.2;0;2.2];
waittime = [10;0;5;0];
trajectory(pedestrian, waypoints, speed, waittime);

car = vehicle(scenario, ...
    'ClassID', 1, ...
    'Position', [76.4 -15.3 0], ...
    'Mesh', driving.scenario.carMesh, ...
    'PlotColor', [0.301 0.745 0.933], ...
    'Name', 'Car');
waypoints = [76.4 -15.3 0;
    79.3 -9.4 0;
    82.4 -2.9 0;
    83.9 1.5 0];
speed = [0;15;0;15];
waittime = [10;0;5;0];
trajectory(car, waypoints, speed, waittime);

bicycle1 = actor(scenario, ...
    'ClassID', 3, ...
    'Length', 1.7, ...
    'Width', 0.45, ...
    'Height', 1.7, ...
    'Position', [117.2 -13.8 0], ...
    'Mesh', driving.scenario.bicycleMesh, ...
    'PlotColor', [0.635 0.078 0.184], ...
    'Name', 'Bicycle1');
waypoints = [117.2 -13.8 0;
    116.3 -8.5 0;
    115 -0.5 0;
    114.3 5.9 0];
speed = [0;4.5;2;4.5];
waittime = [10;0;0;0];
trajectory(bicycle1, waypoints, speed, waittime);


end
end